<% layout('layouts/boilerplate') %>

<div class="m-8">
  <% data2.forEach(item => { 
      // Determine the alert type based on status
      let alertTypeClass = 'text-blue-800 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-800';
      let alertHeading = 'Info Alert';
      let iconPath = 'M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z';
      
      if (item.status === 'Warning') {
        alertTypeClass = 'text-yellow-800 border-yellow-400 bg-yellow-50 dark:text-yellow-400 dark:border-yellow-800';
        alertHeading = 'Warning Alert';
      } else if (item.status === 'Danger') {
        alertTypeClass = 'text-red-800 border-red-400 bg-red-50 dark:text-red-400 dark:border-red-800';
        alertHeading = 'Danger Alert';
      }
  %>
    <!-- Alert Box -->
    <div class="max-w-2xl p-4 mb-4 mx-auto border rounded-lg <%= alertTypeClass %>" role="alert">
      <div class="flex items-center mb-3">
        <svg class="flex-shrink-0 w-5 h-5 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
          <path d="<%= iconPath %>"/>
        </svg>
        <h3 class="text-lg font-semibold"><%= alertHeading %></h3>
      </div>
      <div class="grid grid-cols-2 gap-4 text-sm mb-4">
        <div>
          <h3 class="text-base font-medium">Temperature: <%= item.tempC %>Â°C</h3>
        </div>
        <div>
          <h3 class="text-base font-medium">Water Level: <%= item.distance %> cm</h3>
        </div>
        <div>
          <h3 class="text-base font-medium">Humidity: <%= item.humidity %>%</h3>
        </div>
        <div>
          <h3 class="text-base font-medium">Rain Status: <%= item.status %></h3>
        </div>
      </div>
      <div>
        <h3 class="text-base font-medium text-left">Location: <%= item.location %></h3>
      </div>
      <div class="text-sm text-right">
        <%= item.date %> <%= item.time %>
      </div>
    </div>
  <% }); %>
</div>